<!DOCTYPE html>
<html lang="es" xmlns:layout="http://www.w3.org/1999/xhtml">
  <head th:fragment="head">
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      th:href="@{/assets/fonts/boxicons/css/boxicons.min.css}"
    />

    <!--AOS Animations-->
    <link
      rel="stylesheet"
      th:href="@{/assets/vendor/node_modules/css/aos.css}"
    />

    <!--Iconsmind Icons-->
    <link rel="stylesheet" th:href="@{/assets/fonts/iconsmind/iconsmind.css}" />

    <!--Google fonts-->
    <link rel="preconnect" th:href="@{https://fonts.googleapis.com}" />
    <link rel="preconnect" th:href="@{https://fonts.gstatic.com}" crossorigin />
    <link
      th:href="@{https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&family=Source+Serif+Pro:ital@0;1&display=swap}"
      rel="stylesheet"
    />
    <!-- Main CSS -->
    <link th:href="@{/assets/css/theme.min.css}" rel="stylesheet" />
    <title>Lista-Pacientes</title>
  </head>
  <body>
    <header th:fragment="header">
      <nav class="navbar bg-dark">
        <div class="container-fluid">
          <a class="navbar-brand" href="#"></a>

          <div class="navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a
                  class="nav-link active text-center"
                  aria-current="page"
                  href="/"
                  >Inicio</a
                >
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!--MESSAGES-->

      <div
        th:if="${succes != null}"
        class="alert alert-succes alert-dismissible fade show"
        role="alert"
      >
        <label th:text="${succes}"></label>
        <button
          type="button"
          class="btn-close p-0 top-50 translate-middle-y me-2"
          data-bs-dismiss="alert"
          aria-label="Close"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            preserveAspectRatio="xMidYMid meet"
            width="16"
            height="16"
            viewBox="0 0 128 128"
          >
            <g>
              <path
                stroke="currentColor"
                stroke-width="8"
                stroke-linecap="square"
                fill="none"
                d="M7 7l114 114m0-114l-114 114"
              />
            </g>
          </svg>
        </button>
      </div>

      <div
        th:if="${danger != null}"
        class="alert alert-danger alert-dismissible fade show"
        role="alert"
      >
        <label th:text="${danger}"></label>
        <button
          type="button"
          class="btn-close p-0 top-50 translate-middle-y me-2"
          data-bs-dismiss="alert"
          aria-label="Close"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            preserveAspectRatio="xMidYMid meet"
            width="16"
            height="16"
            viewBox="0 0 128 128"
          >
            <g>
              <path
                stroke="currentColor"
                stroke-width="8"
                stroke-linecap="square"
                fill="none"
                d="M7 7l114 114m0-114l-114 114"
              />
            </g>
          </svg>
        </button>
      </div>
      <div
        th:if="${warning != null}"
        class="alert alert-warning alert-dismissible fade show"
        role="alert"
      >
        <label th:text="${warning}"></label>
        <button
          type="button"
          class="btn-close p-0 top-50 translate-middle-y me-2"
          data-bs-dismiss="alert"
          aria-label="Close"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            preserveAspectRatio="xMidYMid meet"
            width="16"
            height="16"
            viewBox="0 0 128 128"
          >
            <g>
              <path
                stroke="currentColor"
                stroke-width="8"
                stroke-linecap="square"
                fill="none"
                d="M7 7l114 114m0-114l-114 114"
              />
            </g>
          </svg>
        </button>
      </div>
    
    
  </header>



    <section class="mt-4">
      <div class="container  py-2 py-lg-6">
        <div class="table-responsive row justify-content-center">
          <div class=" col-12">
            <div class="d-flex mb-4 align-items-center">
              <h4 class="mb-0 me-3">Lista de Pacientes</h4>
              <div class="pt-1 border-bottom flex-grow-1"></div>
            </div>
            <h6>
              <a
                class="btn btn-primary btn-sm"
                th:href="@{/post}"
                th:text="'Nuevo Paciente'"
              ></a>
            </h6>
            <table class="table table-sm mb-9 table-hover">
              <thead class="table-dark">
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Nombre</th>
                  <th scope="col">Deuda</th>
                  <th scope="col">Fecha</th>
                  
                </tr>
              </thead>
              <tbody>
                <tr th:each="p, i : ${pacientes}">
                  <th scope="row" th:text="${i.index + 1}"></th>
                  <td th:text="${p.name}"></td>
                  <td th:text="${p.debt}"></td>
                  <td th:text="${p.date}"></td>
                  <td>
                    <a
                      class="btn btn-primary btn-sm"
                      th:href="@{/put/} + ${p.id}"
                      ><em class="bx bx-edit"></em
                    ></a>
                  </td>
                  <td>
                    <a
                      class="btn btn-danger btn-sm"
                      th:href="@{/delete/} + ${p.id}"
                      onclick="return confirm('Estas seguro que desea eliminar')"
                      ><em class="bx bx-trash"></em
                    ></a>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <!--End Col-->
        </div>
        <!-- / .row -->
      </div>
      <!-- / .container -->
    </section>

    <script th:src="@{/assets/js/theme.bundle.js}"></script>
  </body>
</html>
